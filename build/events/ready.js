Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"default",{enumerable:true,get:()=>_default});const _event=require("../extensions/Event");const _startBot=require("../startBot");const _discordJs=require("discord.js");const _logs=_interopRequireDefault(require("../services/logs"));const _os=_interopRequireDefault(require("os"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}const _default=new _event.Event("ready",()=>{_startBot.client.user.setActivity(`/help | ${_startBot.client.user.tag}`,{type:_discordJs.ActivityType.Playing});_logs.default.infoLog(`${_startBot.client.user.tag} has launched in ${_startBot.client.uptime}ms`);setInterval(()=>{_logs.default.customLog(`${_startBot.client.user.tag} running ${_startBot.client.uptime/1e3}s on ${Math.floor(process.memoryUsage().heapUsed/1024/1024)}Mb MEM ${Math.round(getAverageUsage())}CPU%`,"AltheaSocket")},3e4)});let timesBefore=_os.default.cpus().map(c=>c.times);function getAverageUsage(){let timesAfter=_os.default.cpus().map(c=>c.times);let timeDeltas=timesAfter.map((t,i)=>({user:t.user-timesBefore[i].user,sys:t.sys-timesBefore[i].sys,idle:t.idle-timesBefore[i].idle}));timesBefore=timesAfter;return timeDeltas.map(times=>1-times.idle/(times.user+times.sys+times.idle)).reduce((l1,l2)=>l1+l2)/timeDeltas.length}
//# sourceMappingURL=ready.js.map