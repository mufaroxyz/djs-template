{"version":3,"sources":["../../src/events/ready.ts"],"sourcesContent":["import { Event } from \"../extensions/Event\";\nimport { client } from \"../startBot\";\nimport { ActivityType } from \"discord.js\";\nimport Log from \"../services/logs\";\nimport os from \"os\";\n/*\n * This is the main event file for the bot. It handles all interactions and messages.\n * You can export the Event class and use it to handle events in seperate files.\n * This is the example of an Event class.\n */\n\nexport default new Event(\"ready\", () => {\n  client.user.setActivity(`/help | ${client.user.tag}`, {\n    type: ActivityType.Playing,\n  }); // feel free to remove that and do whatever you want\n  Log.infoLog(`${client.user.tag} has launched in ${client.uptime}ms`);\n  setInterval(() => {\n    Log.customLog(\n      `${client.user.tag} running ${client.uptime / 1000}s on ${Math.floor(\n        process.memoryUsage().heapUsed / 1024 / 1024\n      )}Mb MEM ${Math.round(getAverageUsage())}CPU%`,\n      \"AltheaSocket\"\n    );\n  }, 30000);\n});\n\nlet timesBefore = os.cpus().map((c) => c.times);\n\nfunction getAverageUsage() {\n  let timesAfter = os.cpus().map((c) => c.times);\n  let timeDeltas = timesAfter.map((t, i) => ({\n    user: t.user - timesBefore[i].user,\n    sys: t.sys - timesBefore[i].sys,\n    idle: t.idle - timesBefore[i].idle,\n  }));\n\n  timesBefore = timesAfter;\n\n  return (\n    timeDeltas\n      .map((times) => 1 - times.idle / (times.user + times.sys + times.idle))\n      .reduce((l1, l2) => l1 + l2) / timeDeltas.length\n  );\n}\n"],"names":["Event","client","user","setActivity","tag","type","ActivityType","Playing","Log","infoLog","uptime","setInterval","customLog","Math","floor","process","memoryUsage","heapUsed","round","getAverageUsage","timesBefore","os","cpus","map","c","times","timesAfter","timeDeltas","t","i","sys","idle","reduce","l1","l2","length"],"mappings":"uFAWA,mCAAA,gCAXsB,+CACC,wCACM,yDACb,8DACD,+FAOf,SAAe,IAAIA,YAAK,CAAC,QAAS,IAAM,CACtCC,gBAAM,CAACC,IAAI,CAACC,WAAW,CAAC,CAAC,QAAQ,EAAEF,gBAAM,CAACC,IAAI,CAACE,GAAG,CAAC,CAAC,CAAE,CACpDC,KAAMC,uBAAY,CAACC,OAAO,AAC5B,GACAC,aAAG,CAACC,OAAO,CAAC,CAAC,EAAER,gBAAM,CAACC,IAAI,CAACE,GAAG,CAAC,iBAAiB,EAAEH,gBAAM,CAACS,MAAM,CAAC,EAAE,CAAC,EACnEC,YAAY,IAAM,CAChBH,aAAG,CAACI,SAAS,CACX,CAAC,EAAEX,gBAAM,CAACC,IAAI,CAACE,GAAG,CAAC,SAAS,EAAEH,gBAAM,CAACS,MAAM,CAAG,IAAK,KAAK,EAAEG,KAAKC,KAAK,CAClEC,QAAQC,WAAW,GAAGC,QAAQ,CAAG,KAAO,MACxC,OAAO,EAAEJ,KAAKK,KAAK,CAACC,mBAAmB,IAAI,CAAC,CAC9C,eAEJ,EAAG,IACL,GAEA,IAAIC,YAAcC,WAAE,CAACC,IAAI,GAAGC,GAAG,CAAC,AAACC,GAAMA,EAAEC,KAAK,EAE9C,SAASN,iBAAkB,CACzB,IAAIO,WAAaL,WAAE,CAACC,IAAI,GAAGC,GAAG,CAAC,AAACC,GAAMA,EAAEC,KAAK,EAC7C,IAAIE,WAAaD,WAAWH,GAAG,CAAC,CAACK,EAAGC,IAAO,CAAA,CACzC3B,KAAM0B,EAAE1B,IAAI,CAAGkB,WAAW,CAACS,EAAE,CAAC3B,IAAI,CAClC4B,IAAKF,EAAEE,GAAG,CAAGV,WAAW,CAACS,EAAE,CAACC,GAAG,CAC/BC,KAAMH,EAAEG,IAAI,CAAGX,WAAW,CAACS,EAAE,CAACE,IAAI,AACpC,CAAA,GAEAX,YAAcM,WAEd,OACEC,WACGJ,GAAG,CAAC,AAACE,OAAU,EAAIA,MAAMM,IAAI,CAAIN,CAAAA,MAAMvB,IAAI,CAAGuB,MAAMK,GAAG,CAAGL,MAAMM,IAAI,AAAD,GACnEC,MAAM,CAAC,CAACC,GAAIC,KAAOD,GAAKC,IAAMP,WAAWQ,MAAM,AAEtD"}